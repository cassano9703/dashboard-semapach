/**
 * @fileoverview Firestore Security Rules for the SEMAPACH dashboard application.
 *
 * Core Philosophy:
 * This ruleset provides open read access (get, list) to all collections to facilitate data visualization.
 * Write access (create, update, delete) is disabled to prevent unauthorized data modification, since the application is read-only.
 *
 * Data Structure:
 * The Firestore database consists of two top-level collections: `daily_collections` and `district_progress`.
 * Each collection contains documents representing daily collection records and district progress records, respectively.
 *
 * Key Security Decisions:
 * - Public read access is granted to both `daily_collections` and `district_progress` collections.
 * - All write operations (create, update, delete) are explicitly denied.
 * - No user-specific authorization is enforced since the data is intended for public reporting and visualization.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Grants public read access to daily collection records while denying all write operations.
     * @path /daily_collections/{dailyCollectionId}
     * @allow (get, list): Any user can read daily collection data.
     * @deny (create, update, delete): No user can create, update, or delete daily collection data.
     * @principle Allows public read access for reporting and visualization while preventing unauthorized data modification.
     */
    match /daily_collections/{dailyCollectionId} {
      allow get, list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }

    /**
     * @description Grants public read access to district progress records while denying all write operations.
     * @path /district_progress/{districtProgressId}
     * @allow (get, list): Any user can read district progress data.
     * @deny (create, update, delete): No user can create, update, or delete district progress data.
     * @principle Allows public read access for reporting and visualization while preventing unauthorized data modification.
     */
    match /district_progress/{districtProgressId} {
      allow get, list: if true;
      allow create: if false;
      allow update: if false;
      allow delete: if false;
    }
  }
}